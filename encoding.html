<html>
<head>
    <!-- 스타일 정의: 테이블, 셀에 테두리 지정 및 정렬 -->
    <style>
        table, td, th {
            border: 1px solid black;   /* 테두리: 1px 실선 검정 */
            text-align: center;        /* 텍스트 가운데 정렬 */
        }

        table {
            border-collapse: collapse; /* 테두리 겹침 제거 */
        }
    </style>

    <!-- jQuery 라이브러리 불러오기 (CDN) -->
    <script src="http://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- JavaScript로 페이지 초기화 시 입력값 및 결과 표시 -->
    <script type="text/javascript">
        $(document).ready(function(){
            // 서버에서 전달받은 값들을 변수에 저장
            var search_text;
            convert_text = "{{convert_text|safe}}";       // 입력 텍스트
            convert_result = "{{convert_result|safe}}";   // 변환 결과
            method_type = "{{method_type}}";              // encode 또는 decode 선택 값

            // 입력창과 드롭박스에 서버에서 받은 값 자동 설정
            $("#inputText").val(convert_text);
            $("#convert_select").val(method_type).prop("selected", true);

            // 결과 출력 영역에 결과 텍스트 표시
            $("#result").html(convert_result);
        });
    </script>

    <!-- 페이지 제목 -->
    <title>Enc/Dec</title>
</head>

<body>
    <!-- 인코딩/디코딩용 폼 정의 -->
    <form id="convertText" action="encoding" method="post">
        <fieldset>
            <!-- 그룹 제목 -->
            <legend>암호화 실습</legend>

            <!-- 드롭다운: 인코딩 or 디코딩 선택 -->
            <select name="convert_select" id="convert_select">
                <option value="encode">인코드</option>   <!-- Base64 인코딩 -->
                <option value="decode">디코드</option>   <!-- Base64 디코딩 -->
            </select>

            <!-- 줄바꿈 대신 여백 문자 -->
            &nbsp;
            변환 대상:

            <!-- 사용자 입력창 -->
            <input type="text" id="inputText" name="inputText">

            <!-- 제출 버튼 -->
            <input type="submit" name="button" value="변환">
        </fieldset>
    </form>

    <!-- 결과 표시 영역 -->
    <h4>변환 결과</h4>
    <hr> <!-- 수평선 -->
    <div id="result"> </div> <!-- 변환 결과가 여기에 표시됨 -->
</body>
</html>
